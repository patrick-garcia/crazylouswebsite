<?php include_once 'private/createprocess.php'; ?>

<?php

?>

<div class="container container-min-height">
  <div class="col-md-12">
    <div class="card box-shadow p-4 text-secondary">
      <div class="row mt-3 mx-4">
        <h3 class="">Registration</h3>
      </div> <!-- end of h2 div -->
      <div class="dropdown-divider mx-4"></div>
      <form action="" method="POST" class="m-4">
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="firstname">First Name</label>
            <input type="text" class="form-control" name="firstname" placeholder="first name" value="<?= inputCreateVal('fname') ?>" >
            <?= errorIssetCheck('firstname') ?>
          </div>
          <div class="form-group col-md-4">
            <label for="lastname">Last Name</label>
            <input type="text" class="form-control" name="lastname" placeholder="last name" value="<?= inputCreateVal('lname') ?>" >
            <?= errorIssetCheck('lastname') ?>
          </div>
        </div> <!-- end of name row -->
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="email">Email</label>
            <input type="email" class="form-control" name="email" placeholder="email" value="<?= inputCreateVal('email') ?>" >
            <?= errorIssetCheck('email') ?>
          </div>
        </div> <!-- end of email row -->
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="pass1">Password</label>
            <input type="password" class="form-control" name="pass1" placeholder="password" value="<?= inputCreateVal('pword') ?>" >
            <?php
              echo errorIssetCheck('pass1');
              if (isset($errors['passCheck']) && !isset($errors['pass1']) && !isset($errors['pass2'])) {
                echo '<p class="text-danger small">' . $errors['passCheck'] . '</p>';
            }?>
          </div>
          <div class="form-group col-md-4">
            <label for="pass1">Confirm Password</label>
            <input type="password" class="form-control" name="pass2" placeholder="confirm password" value="<?= inputCreateVal('confirmPass') ?>" >
            <?= errorIssetCheck('pass2') ?>
          </div>
        </div> <!-- end of password row -->
        <div class="dropdown-divider"></div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="address">Address</label>
            <input type="text" class="form-control" name="address" placeholder="address" value="<?= inputCreateVal('adrs') ?>">
            <?= errorIssetCheck('address') ?>
          </div>
          <div class="form-group col-md-2">
            <label for="suite">Suite</label>
            <input type="text" class="form-control" name="suite" placeholder="suite" value="<?= inputCreateVal('ste') ?>">
          </div>
        </div><!-- end of address row -->
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="city">City</label>
            <input type="text" class="form-control" name="city" placeholder="city" value="<?= inputCreateVal('city') ?>">
            <?= errorIssetCheck('city') ?>
          </div>
          <div class="form-group col-md-2">
            <label for="province">Province</label>
            <select class="form-control" name="province" >
              <?php foreach($provinces as $key => $val) echo '<option value="' . $val . '">' . $key .  '</option>'; ?>
            </select>
          </div>
          <div class="form-group col-md-2">
            <label for="postal">Postal</label>
            <input type="text" class="form-control" name="postal" placeholder="postal code" value="<?= inputCreateVal('post') ?>">
            <?= errorIssetCheck('postal') ?>
          </div>
          <div class="form-group col-md-2">
            <label for="country">Country</label>
            <select class="form-control" name="country">
              <?php foreach($countries as $key => $val) echo '<option value="' . $val . '">' . $key . '</option>'; ?>
            </select>
          </div>
        </div> <!-- end of city, prov, post row -->
        <div class="dropdown-divider"></div>
        <div class="form-row">
          <div class="form-group col-md-3">
            <label for="phone">Phone</label>
            <input type="text" class="form-control" placeholder="phone number" name="phonenum1" value="<?= inputCreateVal('phone1') ?>">
            <?php
              if(isset($errors['phonenum1'])) {
                echo '<p class="text-danger small">* one contact # required</p>';
              } else {
                if (isset($errors['phonenum1Len'])) {
                  echo '<p class="text-danger small">* 10 digits required</p>';
                }
            }?>
          </div>
          <div class="form-group col-md-1">
            <label for="ext">Ext</label>
            <input type="text" class="form-control" placeholder="ext" name="ext1">
          </div>
          <div class="form-group col-md-2">
            <label for="phonetype">Phone Type</label>
            <select class="form-control" name="ptype1">
              <?php foreach($phonetype as $k => $v) echo '<option value="' . $v . '">' . $k . '</option>'; ?>
            </select>
          </div>
        </div> <!-- end of phone1 row -->

        <div class="form-row">
          <div class="form-group col-md-3">
            <label for="phone">Phone (optional)</label>
            <input type="text" class="form-control" placeholder="phone number (optional)" name="phonenum2" value="<?= inputCreateVal('phone2') ?>">
            <?php if(isset($errors['phonenum2Len']) && !empty($_POST['phonenum2'])) {
              echo '<p class="text-danger small">*  10 digits required</p>';
            }?>
          </div>
          <div class="form-group col-md-1">
            <label for="ext">Ext</label>
            <input type="text" class="form-control" placeholder="ext" name="ext2">
          </div>
          <div class="form-group col-md-2">
            <label for="phonetype">Phone Type</label>
            <select class="form-control" name="ptype2">
              <?php foreach($phonetype as $k => $v) echo '<option value="' . $v . '">' . $k . '</option>'; ?>
            </select>
          </div>
        </div> <!-- end of phone2 row -->
        <div class="row">
          <div class="form-group mt-4 offset-8">
            <a href="login.php" class="btn btn-outline-primary mr-2">go to login</a>
            <button type="submit" name="register" class="btn btn-success">create user</button>
          </div>
        </div> <!-- end of row -->
      </form> <!-- end of form -->
    </div> <!-- end of card -->
  </div> <!-- end of col row -->
</div> <!-- end of container -->